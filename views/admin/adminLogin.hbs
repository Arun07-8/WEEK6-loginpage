<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.3/dist/sweetalert2.all.min.js"></script>
 <link rel="stylesheet" type="text/css" href="/adminlogin.css">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
	<div class="main">  
    <div class="signup">            
        <form id="registrationForm" method="post" action="/admin/adminLogin">
        <input type="hidden"  id="message" value="{{message}}">
            <label  aria-hidden="true">Admin Login</label>
            <input id="username" type="text" name="username" placeholder="User name">
            <span id="usernameError" class="error-message">  </span>
            <input id="password" type="password" name="password" placeholder="Password">
            <span id="passwordError" class="error-message"></span> <!-- Error message container -->
            <button type="submit">Log in</button>
        </form>
    </div> 
</div>
<script>
    const message=document.getElementById('message').value
    if(message){
            swal.fire(message)
            message=null
    }

	document.getElementById('registrationForm').addEventListener('submit', function(event) {
     // Prevent form submission for validation
  
  const username = document.getElementById('username');
    const password = document.getElementById('password');
    // Clear previous error messages
    document.getElementById('usernameError').innerText = '';
    document.getElementById('passwordError').innerText = '';
    // Reset input field error styles
    username.classList.remove('error');
    password.classList.remove('error');

    let valid = true;

    // Validate Username
    if (username.value.trim() === '') {
		Swal.fire("Invalid Entry");
        document.getElementById('usernameError').innerText = 'Username is required';
        username.classList.add('error');
        valid = false;
    }
   // Validate Password
    if (password.value.length < 7) {
        document.getElementById('passwordError').innerText = 'Password must be at least 7 characters';
        password.classList.add('error');
        valid = false;
    }
   // If validation fails, stop form submission
    if (!valid) {
         event.preventDefault();
        return false;
    }
    // If validation passes, allow form submission (you can proceed to submit here)
   // swal.fire("login succesfully");
	return true;
});
</script>

